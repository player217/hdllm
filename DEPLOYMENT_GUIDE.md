# HDí˜„ëŒ€ë¯¸í¬ Gauss-1 RAG System - ë°°í¬ ê°€ì´ë“œ

## ğŸš€ ì›í´ë¦­ ì„¤ì¹˜ ë° ì‹¤í–‰ ê°€ì´ë“œ

### ğŸ“‹ ì‹œìŠ¤í…œ ìš”êµ¬ì‚¬í•­

#### ìµœì†Œ ì‚¬ì–‘
- **OS**: Windows 10/11 (64-bit)
- **RAM**: 8GB ì´ìƒ
- **ì €ì¥ê³µê°„**: 20GB ì´ìƒ ì—¬ìœ  ê³µê°„
- **CPU**: 4ì½”ì–´ ì´ìƒ
- **ë„¤íŠ¸ì›Œí¬**: ì¸í„°ë„· ì—°ê²° (ì´ˆê¸° ì„¤ì¹˜ ì‹œ)

#### ê¶Œì¥ ì‚¬ì–‘
- **RAM**: 16GB ì´ìƒ
- **ì €ì¥ê³µê°„**: 50GB ì´ìƒ ì—¬ìœ  ê³µê°„
- **CPU**: 8ì½”ì–´ ì´ìƒ
- **GPU**: CUDA ì§€ì› GPU (ì„ íƒì‚¬í•­)

### ğŸ¯ ë¹ ë¥¸ ì‹œì‘ (2-Click Installation)

#### Step 1: ì„¤ì¹˜ (ì²˜ìŒ í•œ ë²ˆë§Œ)
```batch
INSTALL_ENHANCED.bat
```
- Python 3.11 ìë™ ì„¤ì¹˜
- Qdrant ë²¡í„° DB ë‹¤ìš´ë¡œë“œ
- Ollama LLM ì„œë²„ ì„¤ì¹˜
- BGE-M3 ì„ë² ë”© ëª¨ë¸ ë‹¤ìš´ë¡œë“œ
- ëª¨ë“  Python íŒ¨í‚¤ì§€ ì„¤ì¹˜
- í™˜ê²½ ì„¤ì • íŒŒì¼ ìƒì„±

**ì˜ˆìƒ ì‹œê°„**: 15-30ë¶„ (ì¸í„°ë„· ì†ë„ì— ë”°ë¼ ë‹¤ë¦„)

#### Step 2: ì‹¤í–‰
```batch
RUN_ENHANCED.bat
```
- ëª¨ë“  ì„œë¹„ìŠ¤ ìë™ ì‹œì‘
- ë¸Œë¼ìš°ì € ìë™ ì—´ê¸°
- http://localhost:8001 ì ‘ì†

### ğŸ“‚ í”„ë¡œì íŠ¸ êµ¬ì¡°

```
LMM_UI_APP/
â”œâ”€â”€ INSTALL_ENHANCED.bat    # ì›í´ë¦­ ì„¤ì¹˜ ìŠ¤í¬ë¦½íŠ¸
â”œâ”€â”€ RUN_ENHANCED.bat        # ì›í´ë¦­ ì‹¤í–‰ ìŠ¤í¬ë¦½íŠ¸
â”œâ”€â”€ .env.template          # í™˜ê²½ ì„¤ì • í…œí”Œë¦¿
â”œâ”€â”€ .env                   # ì‹¤ì œ í™˜ê²½ ì„¤ì • (ìë™ ìƒì„±)
â”œâ”€â”€ backend/               # FastAPI ë°±ì—”ë“œ
â”œâ”€â”€ frontend/              # ì›¹ UI
â”œâ”€â”€ src/                   # GUI ë° ì½”ì–´ ëª¨ë“ˆ
â”œâ”€â”€ bin/                   # ë‹¤ìš´ë¡œë“œëœ ì‹¤í–‰ íŒŒì¼
â”‚   â”œâ”€â”€ qdrant.exe        # Qdrant ë²¡í„° DB
â”‚   â”œâ”€â”€ bge-m3-local/     # BGE-M3 ëª¨ë¸
â”‚   â””â”€â”€ OllamaSetup.exe   # Ollama ì„¤ì¹˜ íŒŒì¼
â”œâ”€â”€ storage/               # ë°ì´í„° ì €ì¥ì†Œ
â””â”€â”€ venv/                  # Python ê°€ìƒí™˜ê²½
```

### ğŸ”§ í™˜ê²½ ì„¤ì •

#### 1. ê¸°ë³¸ ì„¤ì • (ìë™ ìƒì„±ë¨)
`.env` íŒŒì¼ì´ ìë™ìœ¼ë¡œ ìƒì„±ë˜ë©° ê¸°ë³¸ê°’ì´ ì„¤ì •ë©ë‹ˆë‹¤.

#### 2. ë°ì´í„° ì†ŒìŠ¤ ì„¤ì •
```env
# ê°œì¸ Qdrant (ë¡œì»¬ PC)
QDRANT_PERSONAL_HOST=127.0.0.1
QDRANT_PERSONAL_PORT=6333

# ë¶€ì„œ Qdrant (ì›ê²© ì„œë²„)
QDRANT_DEPT_HOST=10.150.104.37
QDRANT_DEPT_PORT=6333

# ê¸°ë³¸ ì„ íƒ (personal ë˜ëŠ” dept)
DEFAULT_DB_SCOPE=personal
```

#### 3. ê³ ê¸‰ ì„¤ì •
`.env.template` íŒŒì¼ì„ ì°¸ê³ í•˜ì—¬ í•„ìš”í•œ ì„¤ì •ì„ ë³€ê²½í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

### ğŸ–¥ï¸ ì‚¬ìš© ë°©ë²•

#### ì›¹ ì¸í„°í˜ì´ìŠ¤
1. ë¸Œë¼ìš°ì €ì—ì„œ http://localhost:8001 ì ‘ì†
2. ìš°ì¸¡ ìƒë‹¨ í† ê¸€ë¡œ ë°ì´í„° ì†ŒìŠ¤ ì„ íƒ (ê°œì¸/ë¶€ì„œ)
3. ì§ˆë¬¸ ì…ë ¥ í›„ ì „ì†¡
4. ì‹¤ì‹œê°„ ìŠ¤íŠ¸ë¦¬ë° ì‘ë‹µ í™•ì¸

#### GUI ì• í”Œë¦¬ì¼€ì´ì…˜
1. ì‹œìŠ¤í…œ íŠ¸ë ˆì´ì—ì„œ LLMPY Vector Studio ì•„ì´ì½˜ í™•ì¸
2. ìš°í´ë¦­í•˜ì—¬ ë©”ë‰´ ì ‘ê·¼
3. ë¬¸ì„œ ì„ë² ë”©, ë©”ì¼ ì„ë² ë”© ë“± ê¸°ëŠ¥ ì‚¬ìš©

### ğŸ”„ ë°ì´í„° ì†ŒìŠ¤ ì „í™˜

#### ì›¹ UIì—ì„œ ì „í™˜
```javascript
// ìš°ì¸¡ ìƒë‹¨ í† ê¸€ ë²„íŠ¼ìœ¼ë¡œ ì „í™˜
// ê°œì¸ DB â†” ë¶€ì„œ DB
```

#### API ì§ì ‘ í˜¸ì¶œ
```bash
# í—¤ë”ë¡œ ì§€ì •
curl -X POST http://localhost:8080/ask \
  -H "X-Qdrant-Scope: dept" \
  -H "Content-Type: application/json" \
  -d '{"question": "ì§ˆë¬¸ ë‚´ìš©"}'

# ì¿¼ë¦¬ íŒŒë¼ë¯¸í„°ë¡œ ì§€ì •
curl -X POST "http://localhost:8080/ask?db_scope=personal" \
  -H "Content-Type: application/json" \
  -d '{"question": "ì§ˆë¬¸ ë‚´ìš©"}'
```

### ğŸ“Š ì„œë¹„ìŠ¤ ìƒíƒœ í™•ì¸

#### ì „ì²´ ìƒíƒœ í™•ì¸
```bash
curl http://localhost:8080/status
```

ì‘ë‹µ ì˜ˆì‹œ:
```json
{
  "status": "healthy",
  "components": {
    "qdrant_personal": {
      "status": "up",
      "collections": ["personal_prod_mail_my_documents"],
      "vector_count": 1234
    },
    "qdrant_dept": {
      "status": "up",
      "collections": ["dept_prod_mail_my_documents"],
      "vector_count": 5678
    },
    "ollama": {
      "status": "up",
      "models": ["gemma:3b"]
    }
  }
}
```

### ğŸ› ï¸ ë¬¸ì œ í•´ê²°

#### ì„¤ì¹˜ ì‹¤íŒ¨ ì‹œ
1. ê´€ë¦¬ì ê¶Œí•œìœ¼ë¡œ ì‹¤í–‰
2. Windows Defender ì˜ˆì™¸ ì¶”ê°€
3. ìˆ˜ë™ ì„¤ì¹˜:
   - Python: https://www.python.org/downloads/
   - Ollama: https://ollama.com/download

#### í¬íŠ¸ ì¶©ëŒ
```batch
# ì‚¬ìš© ì¤‘ì¸ í¬íŠ¸ í™•ì¸
netstat -an | findstr :6333
netstat -an | findstr :8080
netstat -an | findstr :11434

# í”„ë¡œì„¸ìŠ¤ ì¢…ë£Œ
taskkill /F /PID [í”„ë¡œì„¸ìŠ¤ID]
```

#### Qdrant ì—°ê²° ì‹¤íŒ¨
1. ë°©í™”ë²½ ì„¤ì • í™•ì¸
2. `.env` íŒŒì¼ì˜ í˜¸ìŠ¤íŠ¸/í¬íŠ¸ í™•ì¸
3. Qdrant ì„œë¹„ìŠ¤ ì¬ì‹œì‘

#### Ollama ëª¨ë¸ ì˜¤ë¥˜
```batch
# ëª¨ë¸ ìˆ˜ë™ ë‹¤ìš´ë¡œë“œ
ollama pull gemma:3b

# ëª¨ë¸ ëª©ë¡ í™•ì¸
ollama list
```

### ğŸ”’ ë³´ì•ˆ ê³ ë ¤ì‚¬í•­

#### ë„¤íŠ¸ì›Œí¬ ë³´ì•ˆ
- ê¸°ë³¸ì ìœ¼ë¡œ localhostë§Œ í—ˆìš©
- ì™¸ë¶€ ì ‘ê·¼ í•„ìš” ì‹œ ë°©í™”ë²½ ê·œì¹™ ì¶”ê°€
- HTTPS ì„¤ì • ê¶Œì¥ (í”„ë¡œë•ì…˜)

#### ë°ì´í„° ë³´ì•ˆ
- PII ì •ë³´ ìë™ ë§ˆìŠ¤í‚¹
- ë¡œì»¬ ì €ì¥ì†Œ ì•”í˜¸í™” ê¶Œì¥
- ì •ê¸°ì ì¸ ë°±ì—… ìˆ˜í–‰

#### ì ‘ê·¼ ì œì–´
- API í‚¤ ì„¤ì • ê°€ëŠ¥
- JWT í† í° ì§€ì› (ì„ íƒì‚¬í•­)
- Rate limiting í™œì„±í™”

### ğŸ“ˆ ì„±ëŠ¥ ìµœì í™”

#### GPU ê°€ì† í™œìš©
```env
# .env íŒŒì¼ì—ì„œ ì„¤ì •
EMBED_DEVICE=cuda  # GPU ì‚¬ìš©
EMBED_BATCH=64     # ë°°ì¹˜ í¬ê¸° ì¦ê°€
```

#### ë©”ëª¨ë¦¬ ìµœì í™”
```env
# ìºì‹œ í¬ê¸° ì¡°ì •
EMBED_CACHE_MAX=1024  # ìºì‹œ í™•ëŒ€
QDRANT_HNSW_EF=256   # ê²€ìƒ‰ ì •í™•ë„ í–¥ìƒ
```

#### ë™ì‹œ ì²˜ë¦¬ ì¦ê°€
```env
OLLAMA_MAX_CONCURRENCY=16  # ë™ì‹œ ìš”ì²­ ì²˜ë¦¬
```

### ğŸ”„ ì—…ë°ì´íŠ¸ ë°©ë²•

#### ì½”ë“œ ì—…ë°ì´íŠ¸
```batch
git pull origin main
pip install -r requirements.txt --upgrade
```

#### ëª¨ë¸ ì—…ë°ì´íŠ¸
```batch
# Ollama ëª¨ë¸ ì—…ë°ì´íŠ¸
ollama pull gemma:3b

# ì„ë² ë”© ëª¨ë¸ ì¬ë‹¤ìš´ë¡œë“œ
python -c "from sentence_transformers import SentenceTransformer; model = SentenceTransformer('BAAI/bge-m3'); model.save('bin/bge-m3-local')"
```

### ğŸ“ ì§€ì› ë° ë¬¸ì˜

#### ë‚´ë¶€ ì§€ì›
- ë‹´ë‹¹ë¶€ì„œ: HDí˜„ëŒ€ë¯¸í¬ ì„ ê°ê¸°ìˆ ë¶€
- ë‚´ì„ : [ë‚´ë¶€ ì—°ë½ì²˜]
- ì´ë©”ì¼: [ë‚´ë¶€ ì´ë©”ì¼]

#### ê¸°ìˆ  ë¬¸ì„œ
- API ë¬¸ì„œ: http://localhost:8080/docs
- ì‹œìŠ¤í…œ ë¡œê·¸: `logs/` ë””ë ‰í† ë¦¬
- ì„¤ì • íŒŒì¼: `.env`, `config.json`

### ğŸ“ ì‚¬ìš©ì êµìœ¡

#### ê¸°ë³¸ ì‚¬ìš©ë²• (30ë¶„)
1. ì‹œìŠ¤í…œ ì ‘ì† ë°©ë²•
2. ì§ˆë¬¸ ì…ë ¥ ìš”ë ¹
3. ë°ì´í„° ì†ŒìŠ¤ ì„ íƒ
4. ê²°ê³¼ í•´ì„ ë°©ë²•

#### ê³ ê¸‰ ê¸°ëŠ¥ (1ì‹œê°„)
1. ë¬¸ì„œ ì„ë² ë”© ë°©ë²•
2. ë©”ì¼ ë°ì´í„° ì²˜ë¦¬
3. API ì§ì ‘ ì‚¬ìš©
4. ì„±ëŠ¥ íŠœë‹

### ğŸ“ ì²´í¬ë¦¬ìŠ¤íŠ¸

#### ì„¤ì¹˜ ì „
- [ ] Windows 10/11 64-bit í™•ì¸
- [ ] 8GB ì´ìƒ RAM í™•ì¸
- [ ] 20GB ì´ìƒ ì €ì¥ê³µê°„ í™•ì¸
- [ ] ì¸í„°ë„· ì—°ê²° í™•ì¸

#### ì„¤ì¹˜ í›„
- [ ] Python 3.11 ì„¤ì¹˜ í™•ì¸
- [ ] Qdrant ì‹¤í–‰ í™•ì¸
- [ ] Ollama ì‹¤í–‰ í™•ì¸
- [ ] ì›¹ UI ì ‘ì† í™•ì¸

#### ìš´ì˜ ì¤‘
- [ ] ì¼ì¼ ìƒíƒœ ì ê²€
- [ ] ì£¼ê°„ ë¡œê·¸ ê²€í† 
- [ ] ì›”ê°„ ì„±ëŠ¥ ë¶„ì„
- [ ] ë¶„ê¸°ë³„ ì—…ë°ì´íŠ¸

---

## ë¶€ë¡: ëª…ë ¹ì–´ ì°¸ì¡°

### ì„œë¹„ìŠ¤ ì‹œì‘/ì¤‘ì§€
```batch
# ê°œë³„ ì„œë¹„ìŠ¤ ì‹œì‘
start "Qdrant" cmd /k "bin\qdrant.exe"
start "Ollama" cmd /k "ollama serve"
start "Backend" cmd /k "venv\Scripts\python.exe -m uvicorn backend.main:app --port 8080"
start "Frontend" cmd /k "cd frontend && ..\venv\Scripts\python.exe -m http.server 8001"

# ì„œë¹„ìŠ¤ ì¤‘ì§€
taskkill /F /FI "WINDOWTITLE eq Qdrant*"
taskkill /F /FI "WINDOWTITLE eq Ollama*"
taskkill /F /FI "WINDOWTITLE eq Backend*"
taskkill /F /FI "WINDOWTITLE eq Frontend*"
```

### ë¡œê·¸ í™•ì¸
```batch
# ë°±ì—”ë“œ ë¡œê·¸
type backend\logs\app.log

# ì‹¤ì‹œê°„ ë¡œê·¸ ëª¨ë‹ˆí„°ë§
powershell Get-Content backend\logs\app.log -Wait
```

### ë°ì´í„° ê´€ë¦¬
```batch
# Qdrant ë°ì´í„° ë°±ì—…
xcopy /E /I storage\qdrant storage\backup\qdrant_%date%

# ìºì‹œ ì •ë¦¬
del /Q logs\*.log
del /Q chunk_outputs\*
```

## ğŸ”„ ë„¤ì„ìŠ¤í˜ì´ìŠ¤ í˜¸í™˜ ëª¨ë“œ (Compatibility Mode)

### ê°œìš”

ë„¤ì„ìŠ¤í˜ì´ìŠ¤ í˜¸í™˜ ëª¨ë“œëŠ” ê¸°ì¡´ ë²¡í„° ì»¬ë ‰ì…˜ê³¼ì˜ í˜¸í™˜ì„±ì„ ë³´ì¥í•˜ê¸° ìœ„í•´ ì„¤ê³„ëœ ê¸°ëŠ¥ì…ë‹ˆë‹¤. ìƒˆë¡œìš´ ë„¤ì„ìŠ¤í˜ì´ìŠ¤ íŒ¨í„´ìœ¼ë¡œ ì—…ê·¸ë ˆì´ë“œëœ ì‹œìŠ¤í…œì´ ê¸°ì¡´ì˜ ë ˆê±°ì‹œ ì»¬ë ‰ì…˜ ì´ë¦„ì„ ìë™ìœ¼ë¡œ ê°ì§€í•˜ê³  ì‚¬ìš©í•  ìˆ˜ ìˆë„ë¡ ì§€ì›í•©ë‹ˆë‹¤.

### ì‘ë™ ì›ë¦¬

1. **ì£¼ ë„¤ì„ìŠ¤í˜ì´ìŠ¤ í™•ì¸**: ë¨¼ì € ìƒˆë¡œìš´ íŒ¨í„´ì˜ ë„¤ì„ìŠ¤í˜ì´ìŠ¤ë¥¼ í™•ì¸í•©ë‹ˆë‹¤
   - ì˜ˆ: `personal_dev_mail_my_documents`, `dept_prod_doc_my_documents`

2. **ë ˆê±°ì‹œ ì»¬ë ‰ì…˜ í´ë°±**: ì£¼ ë„¤ì„ìŠ¤í˜ì´ìŠ¤ê°€ ì¡´ì¬í•˜ì§€ ì•Šê±°ë‚˜ ë¹„ì–´ìˆì„ ê²½ìš°, ìë™ìœ¼ë¡œ ë ˆê±°ì‹œ ì»¬ë ‰ì…˜ì„ ê²€ìƒ‰í•©ë‹ˆë‹¤
   - `mail_my_documents`
   - `doc_my_documents` 
   - `my_documents`

3. **íˆ¬ëª…í•œ ì „í™˜**: ì‚¬ìš©ìì—ê²ŒëŠ” íˆ¬ëª…í•˜ê²Œ ì‘ë™í•˜ë©°, í•„ìš”ì‹œ í† ìŠ¤íŠ¸ ì•Œë¦¼ìœ¼ë¡œ ìƒíƒœë¥¼ ì•ˆë‚´í•©ë‹ˆë‹¤

### ì„¤ì • ì˜µì…˜

#### .env íŒŒì¼ ì„¤ì •
```env
# í˜¸í™˜ì„± ëª¨ë“œ í™œì„±í™”
NAMESPACE_COMPAT_ENABLED=true

# í´ë°± ì»¬ë ‰ì…˜ ì´ë¦„ ëª©ë¡ (ìš°ì„ ìˆœìœ„ ìˆœ)
NAMESPACE_COMPAT_FALLBACK=mail_my_documents,doc_my_documents,my_documents

# ìë™ ë§ˆì´ê·¸ë ˆì´ì…˜ (ì„ íƒì‚¬í•­)
AUTO_MIGRATE_COLLECTIONS=false
MIGRATION_BATCH_SIZE=100
```

#### ì„¤ì • ìƒì„¸ ì„¤ëª…

**NAMESPACE_COMPAT_ENABLED**
- `true`: í˜¸í™˜ ëª¨ë“œ í™œì„±í™” (ê¸°ë³¸ê°’)
- `false`: ìƒˆë¡œìš´ ë„¤ì„ìŠ¤í˜ì´ìŠ¤ íŒ¨í„´ë§Œ ì‚¬ìš©

**NAMESPACE_COMPAT_FALLBACK** 
- ì‰¼í‘œë¡œ êµ¬ë¶„ëœ ë ˆê±°ì‹œ ì»¬ë ‰ì…˜ ì´ë¦„ ëª©ë¡
- ì™¼ìª½ë¶€í„° ìš°ì„ ìˆœìœ„ ìˆœìœ¼ë¡œ í™•ì¸
- ê¸°ë³¸ê°’: `mail_my_documents,doc_my_documents,my_documents`

**AUTO_MIGRATE_COLLECTIONS**
- `true`: ë ˆê±°ì‹œ ì»¬ë ‰ì…˜ì„ ìƒˆ ë„¤ì„ìŠ¤í˜ì´ìŠ¤ë¡œ ìë™ ë§ˆì´ê·¸ë ˆì´ì…˜
- `false`: ë§ˆì´ê·¸ë ˆì´ì…˜í•˜ì§€ ì•Šê³  ê¸°ì¡´ ì»¬ë ‰ì…˜ ì‚¬ìš© (ê¸°ë³¸ê°’)

### UI ìƒíƒœ í‘œì‹œ

ì‹œìŠ¤í…œ í—¤ë”ì˜ Qdrant ìƒíƒœ ë°°ì§€ê°€ ì‹¤ì‹œê°„ìœ¼ë¡œ ê° ë°ì´í„°ë² ì´ìŠ¤ì˜ ìƒíƒœë¥¼ í‘œì‹œí•©ë‹ˆë‹¤:

- **ê°œì¸**: ê°œì¸ Qdrant (127.0.0.1:6333) ìƒíƒœ
- **ë¶€ì„œ**: ë¶€ì„œ Qdrant (10.150.104.37:6333) ìƒíƒœ

#### ìƒíƒœ í‘œì‹œ ìƒ‰ìƒ
- **ì´ˆë¡ìƒ‰ (OK)**: ì •ìƒ ì—°ê²°ë¨
- **ë…¸ë€ìƒ‰ (WARN)**: ê²½ê³  ìƒíƒœ
- **ë¹¨ê°„ìƒ‰ (FAIL)**: ì—°ê²° ì‹¤íŒ¨
- **íšŒìƒ‰ (UNKNOWN)**: ìƒíƒœ ë¶ˆëª…

### í´ë°± ì•Œë¦¼

ë¶€ì„œ ë°ì´í„°ë² ì´ìŠ¤ ì—°ê²°ì´ ì‹¤íŒ¨í•˜ì—¬ ê°œì¸ ë°ì´í„°ë² ì´ìŠ¤ë¡œ í´ë°±í•  ê²½ìš°, ìë™ìœ¼ë¡œ í† ìŠ¤íŠ¸ ì•Œë¦¼ì´ í‘œì‹œë©ë‹ˆë‹¤:

> âš ï¸ "ë¶€ì„œ DB ì—°ê²° ì‹¤íŒ¨ë¡œ ê°œì¸ DBë¥¼ ì‚¬ìš©í–ˆìŠµë‹ˆë‹¤."

### ë§ˆì´ê·¸ë ˆì´ì…˜ ê°€ì´ë“œ

#### ìˆ˜ë™ ë§ˆì´ê·¸ë ˆì´ì…˜
ê¸°ì¡´ ì»¬ë ‰ì…˜ì„ ìƒˆë¡œìš´ ë„¤ì„ìŠ¤í˜ì´ìŠ¤ë¡œ ë§ˆì´ê·¸ë ˆì´ì…˜í•˜ë ¤ë©´:

1. **ë°±ì—… ìƒì„±**
```bash
# Qdrant ë°ì´í„° ë°±ì—…
xcopy /E /I storage\qdrant storage\backup\qdrant_%date%
```

2. **ë§ˆì´ê·¸ë ˆì´ì…˜ ìŠ¤í¬ë¦½íŠ¸ ì‹¤í–‰**
```python
# ì˜ˆì‹œ: ë§ˆì´ê·¸ë ˆì´ì…˜ ìŠ¤í¬ë¦½íŠ¸ (ì¶”í›„ ì œê³µ ì˜ˆì •)
python scripts/migrate_collections.py
```

#### ìë™ ë§ˆì´ê·¸ë ˆì´ì…˜
`.env` íŒŒì¼ì—ì„œ `AUTO_MIGRATE_COLLECTIONS=true`ë¡œ ì„¤ì •í•˜ë©´ ì‹œìŠ¤í…œ ì‹œì‘ ì‹œ ìë™ìœ¼ë¡œ ë§ˆì´ê·¸ë ˆì´ì…˜ì´ ì‹¤í–‰ë©ë‹ˆë‹¤.

### ë¬¸ì œ í•´ê²°

#### ì»¬ë ‰ì…˜ì„ ì°¾ì„ ìˆ˜ ì—†ìŒ
```
âŒ No collections found: my_documents, mail_my_documents, doc_my_documents
```

**í•´ê²°ë°©ë²•:**
1. Qdrant ì„œë¹„ìŠ¤ê°€ ì‹¤í–‰ ì¤‘ì¸ì§€ í™•ì¸
2. ë¬¸ì„œ ì„ë² ë”©ì´ ì™„ë£Œë˜ì—ˆëŠ”ì§€ í™•ì¸
3. ë„¤íŠ¸ì›Œí¬ ì—°ê²° ìƒíƒœ ì ê²€

#### ê¶Œí•œ ë¬¸ì œ
```
âŒ Permission denied: Cannot access department Qdrant
```

**í•´ê²°ë°©ë²•:**
1. ë¶€ì„œ ì„œë²„ ì ‘ê·¼ ê¶Œí•œ í™•ì¸
2. ë°©í™”ë²½ ì„¤ì • ì ê²€ (í¬íŠ¸ 6333, 6334)
3. VPN ì—°ê²° ìƒíƒœ í™•ì¸

### ëª¨ë‹ˆí„°ë§

í˜¸í™˜ ëª¨ë“œ ë™ì‘ì€ ë‹¤ìŒ ë°©ë²•ìœ¼ë¡œ ëª¨ë‹ˆí„°ë§í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤:

#### ë¡œê·¸ í™•ì¸
```bash
# ë°±ì—”ë“œ ë¡œê·¸ì—ì„œ ë„¤ì„ìŠ¤í˜ì´ìŠ¤ ê´€ë ¨ í•­ëª© ê²€ìƒ‰
findstr /i "namespace\|fallback\|compat" backend\logs\app.log
```

#### ìƒíƒœ API
```bash
# ì»¬ë ‰ì…˜ ìƒíƒœ í™•ì¸
curl http://localhost:8080/status
```

ì‘ë‹µ ì˜ˆì‹œ:
```json
{
  "qdrant": {
    "personal": {
      "status": "ok",
      "collections": ["personal_dev_mail_my_documents"],
      "fallback_used": false
    },
    "dept": {
      "status": "fail", 
      "collections": [],
      "fallback_used": true,
      "fallback_collection": "mail_my_documents"
    }
  }
}
```

---

**ë¬¸ì„œ ë²„ì „**: 1.0  
**ì‘ì„±ì¼**: 2025-01-30  
**ì‘ì„±ì**: HDí˜„ëŒ€ë¯¸í¬ ì„ ê°ê¸°ìˆ ë¶€